# 멀티 프로세스와 멀티 스레드

## 멀티 프로세스

- 멀티 프로세싱 : 하나의 응용 프로그램에 여러 프로세스가 하나의 동작(작업) 을 수행하는 방식

### 장점

- 하나의 프로세스에 문제가 발생하더라도 다른 프로세스에는 영향이 없다

### 단점

- Context Switching 의 오버헤드
  - 컨텍스트 스위칭 과정에서 캐시 메모리 초기화 등 무거운 작업이 동작하여 오버헤드가 발생할 수 있다.
    - 프로세스는 각각 메모리 공간을 할당 받았기 때문에 컨텍스트 스위칭이 발생하면 기존의 캐시 정보를 제거하고 이전의 캐시 정보를 불러오는 과정이 필요하다.
- 프로세스 사이의 복잡한 통신 기법 (IPC: Inter-Process Communication)
  - ex) 파이프, 파일, 소켓 등을 이용한 통신 방식 이용
  - 다른 프로세스의 데이터가 필요할 경우 프로세스 사이의 통신 과정이 필요하다.

## 멀티 스레드

- 멀티 스레딩 : 하나의 응용 프로그램에 여러 스레드가 하나의 동작(작업) 을 수행하는 방식
- 윈도우, 리눅스 등 여러 운영체제가 멀티 프로세싱을 지원하지만 기본적으로 멀티 스레딩을 사용한다.
- 웹 서버는 대표적인 멀티 스레드 응용 프로그램이다.

### 장점

- 시스템 자원 소모 감소 (자원의 효율성 증대)
  - 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있다.
    - 시스템 콜(System Call) : 운영체제가 제공하는 커널을 사용하기 위한 인터페이스
- 시스템 처리량 증가 (처리 비용 감소)
  - 스레드 간 데이터를 주고 받는 것이 간편해져 시스템 자원 소모가 감소한다.
  - 스레드 사이의 작업량이 적어 Context Switching 이 빠르다.
- 간단한 통신 방법으로 인한 응답 시간 단축
  - Heap 영역을 통해서 통신한다.
  - 스레드는 프로세스 내 Stack 영역을 제외하고 자원을 공유하기 때문에 통신이 간단하다.

### 단점

- 주의 깊은 설계가 필요하다.
- 디버깅이 까다롭다.
- 단일 프로세스 시스템의 경우 효과를 기대하기 어렵다.
- 프로세스 외부에서 각각의 스레드를 제어할 수 없다.
- 멀티 스레드의 경우 자원 공유 문제가 발생한다.
- 하나의 스레드에 문제가 발생하면 전체 프로세스가 영향을 받는다.

### 참고 사이트
- https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html
